'use strict'

module.exports = (babel, options, dirname) => {
  const value = babel.types.objectExpression([
    babel.types.objectProperty(babel.types.identifier('pluginDefaultOpts'), babel.types.stringLiteral(JSON.stringify(options))),
    babel.types.objectProperty(babel.types.identifier('dirname'), babel.types.stringLiteral(dirname))
  ])

  return {
    visitor: {
      ArrayExpression (path) {
        path.node.elements.push(value)
      }
    }
  }
}
