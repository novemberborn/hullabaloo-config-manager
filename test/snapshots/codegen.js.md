# Snapshot report for `test/codegen.js`

The actual snapshot is saved in `codegen.js.snap`.

Generated by [AVA](https://ava.li).

## generates a nicely indented module

> Snapshot 1

    `"use strict"âŠ
    âŠ
    const process = require("process")âŠ
    const helpers = require("~/build/helpers.js")âŠ
    âŠ
    const defaultOptions = (envName, cache) => {âŠ
      const wrapperFns = new Map()âŠ
      return Object.assign(helpers.mergeOptions([âŠ
        helpers.loadCachedModule(cache, "~/test/fixtures/compare/dir/subdir", "~/test/fixtures/compare/dir/subdir/extended-by-babelrc.js", envName, false, undefined),âŠ
        {âŠ
          sourceMaps: false,âŠ
          plugins: [âŠ
            {âŠ
              dirname: "~/test/fixtures/compare",âŠ
              filename: "~/test/fixtures/compare/node_modules/plugin/index.js",âŠ
              options: {âŠ
                label: "plugin@babelrc.1"âŠ
              },âŠ
              name: "ğŸ¤¡ğŸªğŸŸ.0"âŠ
            },âŠ
            {âŠ
              dirname: "~/test/fixtures/compare",âŠ
              filename: "~/test/fixtures/compare/node_modules/plugin/index.js",âŠ
              options: {âŠ
                label: "plugin@babelrc.2"âŠ
              },âŠ
              name: "plugin@babelrc.2"âŠ
            },âŠ
            {âŠ
              dirname: "~/test/fixtures/compare",âŠ
              filename: "~/test/fixtures/compare/node_modules/plugin/index.js",âŠ
              options: {âŠ
                label: "plugin@babelrc.3"âŠ
              },âŠ
              name: "plugin@babelrc.3"âŠ
            }âŠ
          ],âŠ
          presets: [âŠ
            {âŠ
              dirname: "~/test/fixtures/compare",âŠ
              filename: "~/test/fixtures/compare/node_modules/preset/index.js",âŠ
              options: {âŠ
                label: "preset@babelrc"âŠ
              },âŠ
              name: "preset@babelrc"âŠ
            }âŠ
          ]âŠ
        }âŠ
    ], wrapperFns), {âŠ
        babelrc: false,âŠ
        envName,âŠ
        overrides: [âŠ
    âŠ
        ]âŠ
      })âŠ
    }âŠ
    âŠ
    const envOptions = Object.create(null)âŠ
    âŠ
    envOptions["foo"] = (envName, cache) => {âŠ
      const wrapperFns = new Map()âŠ
      return Object.assign(helpers.mergeOptions([âŠ
        helpers.loadCachedModule(cache, "~/test/fixtures/compare/dir/subdir", "~/test/fixtures/compare/dir/subdir/extended-by-babelrc.js", envName, false, undefined),âŠ
        helpers.loadCachedModule(cache, "~/test/fixtures/compare/dir/subdir", "~/test/fixtures/compare/dir/subdir/extended-by-babelrc.js", envName, true, undefined),âŠ
        {âŠ
          sourceMaps: false,âŠ
          plugins: [âŠ
            {âŠ
              dirname: "~/test/fixtures/compare",âŠ
              filename: "~/test/fixtures/compare/node_modules/plugin/index.js",âŠ
              options: {âŠ
                label: "plugin@babelrc.1.foo"âŠ
              },âŠ
              name: "ğŸ¤¡ğŸªğŸŸ.0"âŠ
            },âŠ
            {âŠ
              dirname: "~/test/fixtures/compare",âŠ
              filename: "~/test/fixtures/compare/node_modules/plugin/index.js",âŠ
              options: {âŠ
                label: "plugin@babelrc.2.foo"âŠ
              },âŠ
              name: "plugin@babelrc.2"âŠ
            },âŠ
            {âŠ
              dirname: "~/test/fixtures/compare",âŠ
              filename: "~/test/fixtures/compare/node_modules/plugin/index.js",âŠ
              options: {âŠ
                label: "plugin@babelrc.3"âŠ
              },âŠ
              name: "plugin@babelrc.3"âŠ
            },âŠ
            {âŠ
              dirname: "~/test/fixtures/compare",âŠ
              filename: "~/test/fixtures/compare/node_modules/env-plugin/index.js",âŠ
              options: {âŠ
                label: "env-plugin@babelrc.foo"âŠ
              },âŠ
              name: "plugin@babelrc.foo"âŠ
            },âŠ
            {âŠ
              dirname: "~/test/fixtures/compare",âŠ
              filename: "~/test/fixtures/compare/node_modules/plugin-default-opts/index.js",âŠ
              name: "ğŸ¤¡ğŸªğŸŸ.2"âŠ
            }âŠ
          ],âŠ
          presets: [âŠ
            {âŠ
              dirname: "~/test/fixtures/compare",âŠ
              filename: "~/test/fixtures/compare/node_modules/preset/index.js",âŠ
              options: {âŠ
                label: "preset@babelrc"âŠ
              },âŠ
              name: "preset@babelrc"âŠ
            },âŠ
            {âŠ
              dirname: "~/test/fixtures/compare",âŠ
              filename: "~/test/fixtures/compare/node_modules/preset/index.js",âŠ
              options: {âŠ
                label: "preset@babelrc.foo"âŠ
              },âŠ
              name: "preset@babelrc.foo"âŠ
            }âŠ
          ]âŠ
        }âŠ
    ], wrapperFns), {âŠ
        babelrc: false,âŠ
        envName,âŠ
        overrides: [âŠ
    âŠ
        ]âŠ
      })âŠ
    }âŠ
    âŠ
    exports.getOptions = (envName, cache) => {âŠ
      if (typeof envName !== "string") {âŠ
        envName = process.env.BABEL_ENV || process.env.NODE_ENV || "development"âŠ
      }âŠ
      return envName in envOptionsâŠ
        ? envOptions[envName](envName, cache)âŠ
        : defaultOptions(envName, cache)âŠ
    }âŠ
    `
